<!DOCTYPE html>
<html lang="zxx">

<!-- Mirrored from themevessel-item.s3-website-us-east-1.amazonaws.com/xero/register.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 01 May 2019 20:26:42 GMT -->
<head>
    <!-- Google Tag Manager -->
    <!--<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':-->
    <!--        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],-->
    <!--    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=-->
    <!--    '../../www.googletagmanager.com/gtm5445.html?id='+i+dl;f.parentNode.insertBefore(j,f);-->
    <!--})(window,document,'script','dataLayer','GTM-PDTWJ3Z');</script>-->
    <!-- End Google Tag Manager -->
    <title>Room2Let :: Register</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="UTF-8">
    <!-- External CSS libraries -->
    <link type="text/css" rel="stylesheet" href="/assets/css/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="/assets/css/magnific-popup.css">
    <link type="text/css" rel="stylesheet" href="/assets/css/jquery.selectBox.css">
    <link type="text/css" rel="stylesheet" href="/assets/css/dropzone.css">
    <link type="text/css" rel="stylesheet" href="/assets/css/rangeslider.css">
    <link type="text/css" rel="stylesheet" href="/assets/css/animate.min.css">
    <link type="text/css" rel="stylesheet" href="/assets/css/leaflet.css">
    <link type="text/css" rel="stylesheet" href="/assets/css/slick.css">
    <link type="text/css" rel="stylesheet" href="/assets/css/slick-theme.css">
    <link type="text/css" rel="stylesheet" href="/assets/css/slick-theme.css">
    <link type="text/css" rel="stylesheet" href="/assets/css/map.css">
    <link type="text/css" rel="stylesheet" href="/assets/css/jquery.mCustomScrollbar.css">
    <link type="text/css" rel="stylesheet" href="/assets/fonts/font-awesome/css/font-awesome.min.css">
    <link type="text/css" rel="stylesheet" href="/assets/fonts/flaticon/font/flaticon.css">

    <!-- Favicon icon -->
    <link rel="shortcut icon" href="/assets/img/favicon.png" type="image/x-icon" >

    <!-- Google fonts -->
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700,800%7CPoppins:400,500,700,800,900%7CRoboto:100,300,400,400i,500,700">

    <!-- Custom Stylesheet -->
    <link type="text/css" rel="stylesheet" href="/assets/css/style.css">
    <link rel="stylesheet" type="text/css" id="style_sheet" href="/assets/css/skins/default.css">
      <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-1154916920334140",
          enable_page_level_ads: true
     });
</script>

</head>
<body id="top">
<!-- Google Tag Manager (noscript) -->
<!--<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PDTWJ3Z"-->
<!--                  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>-->
<!-- End Google Tag Manager (noscript) -->
<div class="page_loader"></div>

<!-- Register page start -->
<div class="register-page">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-4 col-md-5 cnt-bg-photo d-none d-xl-block d-lg-block d-md-block" style="background-image: url(assets/img/bg-photo-2.jpg)">
                <div class="register-info">
                    <a href="index-2.html">
                        <img src="/assets/img/logos/logo.png" alt="logo">
                    </a>
                 
                    <p>We help you locate accomodation of your choice in your desired location.</p>
                </div>
            </div>
            <div class="col-lg-8 col-md-7 col-sm-12 align-self-center">
                <div class="content-form-box register-box">
                    <div class="login-header"><h4>Create Your account</h4></div>

                    <form method="POST" action="http://localhost:8000/auth/signup/">
                          <input type="hidden" name="_token" value="LRb8kQptoKMSilU8wzzEU68Qza77uuGFVVsBV8S7">
                        <div class="form-group">
                            <input id="name" type="text" class="form-control " name="name" value="" required autofocus placeholder="Name" >
                                                       </div>
                        <div class="form-group">
                            <input id="email" type="email" class="form-control " name="email" value="" required placeholder="Email Address">
                                                     </div>
                        <div class="form-group">
                            <input id="password" type="password" class=" form-control " name="password" required placeholder="Password">
                                                     </div>
                        <div class="form-group">
                            <input id="password-confirm" type="password" class="form-control" name="password_confirmation" required placeholder="Confirm Password">
                        </div>
                         <div class="form-group">
                       <!--  <input type="checkbox" name="agent" class="filled-in" /> -->
                                 <label>Register As a :</label>
                                <select class="form-control" name="role" required>
                                            <option value="" selected >--Select Option--</option>
                                                <option value="Agent">Agent</option>
                                                 <option value="User">User</option>
                                </select>

                                                         </div>
                       
                        <div class="form-group">
                            <button type="submit" class="btn btn-color btn-md btn-block">Create New Account</button>
                        </div>
                        <div class="login-footer text-center">
                            <p>Already have an account?<a href="login.html"> Sign In</a></p>
                            <p>or<a href="/"> Go Home</a></p>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Register page end -->

<!-- Full Page Search -->
<div id="full-page-search">
    <button type="button" class="close">Ã—</button>
    <form action="#">
        <input type="search" value="" placeholder="type keyword(s) here" />
        <button type="button" class="btn btn-sm btn-color">Search</button>
    </form>
</div>

<!-- External JS libraries -->
<script src="/assets/js/jquery-2.2.0.min.js"></script>
<script src="/assets/js/popper.min.js"></script>
<script src="/assets/js/bootstrap.min.js"></script>
<script src="/assets/js/jquery.selectBox.js"></script>
<script src="/assets/js/rangeslider.js"></script>
<script src="/assets/js/jquery.magnific-popup.min.js"></script>
<script src="/assets/js/jquery.filterizr.js"></script>
<script src="/assets/js/wow.min.js"></script>
<script src="/assets/js/backstretch.js"></script>
<script src="/assets/js/jquery.countdown.js"></script>
<script src="/assets/js/jquery.scrollUp.js"></script>
<script src="/assets/js/particles.min.js"></script>
<script src="/assets/js/typed.min.js"></script>
<script src="/assets/js/dropzone.js"></script>
<script src="/assets/js/jquery.mb.YTPlayer.js"></script>
<script src="/assets/js/leaflet.js"></script>
<script src="/assets/js/leaflet-providers.js"></script>
<script src="/assets/js/leaflet.markercluster.js"></script>
<script src="/assets/js/slick.min.js"></script>
<script src="/assets/js/maps.js"></script>
<script src="/assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB0N5pbJN10Y1oYFRd0MJ_v2g8W2QT74JE"></script>
<script src="/assets/js/ie-emulation-modes-warning.js"></script>
<!-- Custom JS Script -->
<script  src="/assets/js/app.js"></script>
<script>
    const signupForm = document.querySelector("form");

    signupForm.addEventListener("submit", async function (e) {
        e.preventDefault();

        const name = document.getElementById("name").value;
        const email = document.getElementById("email").value;
        const password = document.getElementById("password").value;
        const password_confirmation = document.getElementById("password-confirm").value;
        const role = document.querySelector("select[name='role']").value;

        if (password !== password_confirmation) {
            alert("Passwords do not match!");
            return;
        }

        try {
            const response = await fetch("http://localhost:8000/auth/signup/", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ name, email, password, role })
            });

            const data = await response.json();

            if (response.ok) {
                
                alert("Signup successful!...");
                localStorage.setItem("access_token", data.access_token);

                if(data.user.role==="user"){
                    window.location.href = "user/dashboard.html";
                }else{
                    window.location.href = "agents/dashboard.html";
                }

            } else {
                alert(data.detail || "Signup failed. Please try again.");
            }
        } catch (error) {
            alert(`Error: ${error}`);
        }
    });
</script>

</body>

<!-- Mirrored from themevessel-item.s3-website-us-east-1.amazonaws.com/xero/register.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 01 May 2019 20:26:42 GMT -->
</html>